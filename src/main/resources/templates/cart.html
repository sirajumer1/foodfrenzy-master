<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Frenzy - Shopping Cart</title>
    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/Navigation.css}">
    <link rel="stylesheet" th:href="@{/css/cart.css}">
</head>

<body>
    <!-- Navbar -->
    <nav th:replace="~{Navigation::navbar()}"></nav>

    <div class="container" style="margin-top: 100px;">
        <header>
            <h1><i class="fa-solid fa-cart-shopping"></i> Your Cart</h1>
            <p>Delicious items waiting for checkout</p>
        </header>

        <main>
            <!-- Products Section Removed as per user request -->


            <!-- Cart Section -->
            <section class="cart-section">
                <h2>Your Shopping Cart</h2>
                <div id="cart-summary" class="cart-summary">
                    <p><strong>Total Items:</strong> <span id="total-items">0</span></p>
                    <p><strong>Total Price:</strong> â‚¹<span id="total-price">0.00</span></p>
                </div>
                <div id="cart-items" class="cart-items">
                    <p class="empty-cart">Your cart is empty</p>
                </div>
                <div class="cart-actions">
                    <button id="clear-cart-btn" class="btn-danger" onclick="clearCart()">Clear Cart</button>
                    <a href="/payment" class="btn-checkout">Proceed to Checkout <i
                            class="fa-solid fa-arrow-right"></i></a>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Food Frenzy. All rights reserved.</p>
        </footer>
    </div>

    <script th:inline="javascript">
        /*<![CDATA[*/
        const CURRENT_USER_ID = [[${ session.user != null ? session.user.u_id : null }]];

        if (!CURRENT_USER_ID) {
            // Optional: Redirect if trying to view cart without login?
            // window.location.href = '/login'; 
            // Or just let cart.js handle empty state
        }
        /*]]>*/
    </script>
    <script th:src="@{/JavaScript/cart.js}"></script>
</body>

</html>